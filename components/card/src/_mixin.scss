/**
 * @license EUPL-1.2
 * Copyright (c) 2020-2025 Frameless B.V.
 * Copyright (c) 2021-2025 Gemeente Utrecht
 */

@use "~@utrecht/img-css/src/mixin" as *;
@use "~@utrecht/focus-ring-css/src/mixin" as focus-ring;

@mixin utrecht-card {
  --utrecht-link-text-decoration: none;
  --_utrecht-link-state-text-decoration-thickness: var(--utrecht-link-hover-text-decoration-thickness, 3px);

  background-color: var(--utrecht-card-background-color);
  border-radius: var(--utrecht-card-border-radius);
  box-shadow: var(--utrecht-card-box-shadow);
  color: var(--utrecht-card-color);
  display: flex;
  flex-direction: column;
  inline-size: var(--utrecht-card-inline-size, 100%);
  justify-content: space-between;
  max-inline-size: var(--utrecht-card-max-inline-size, 100%);
  row-gap: var(--utrecht-card-row-gap);
  transition: 150ms scale ease-in-out;
}

@mixin utrecht-card__arrow-container {
  align-self: end;
  block-size: var(--utrecht-card-arrow-container-block-size);
  inline-size: var(--utrecht-card-arrow-container-inline-size);
  padding-inline-end: var(--utrecht-card-arrow-container-padding-inline-end);
}

@mixin utrecht-card--has-link {
  cursor: var(--utrecht-card-has-link-cursor, pointer);
  text-decoration-skip-ink: all;
}

@mixin utrecht-card__link {
  color: var(--utrecht-card-link-color);
}

@mixin utrecht-card__arrow {
  block-size: var(--utrecht-card-arrow-block-size);
  inline-size: var(--utrecht-card-arrow-inline-size);
  line-height: 0;
}

@mixin utrecht-card__heading {
  --utrecht-heading-color: var(--utrecht-card-color);

  order: 2;
  padding-inline-end: var(--utrecht-card-heading-padding-inline-end);
  padding-inline-start: var(--utrecht-card-heading-padding-inline-start);
}

@mixin utrecht-card--neutral {
  background-color: var(--utrecht-card-neutral-background-color);
  color: var(--utrecht-card-neutral-color);
}

@mixin utrecht-card--warm {
  background-color: var(--utrecht-card-warm-background-color);
  color: var(--utrecht-card-warm-color);
}

@mixin utrecht-card--cool {
  background-color: var(--utrecht-card-cool-background-color);
  color: var(--utrecht-card-cool-color);
}

@mixin utrecht-card--soft {
  background-color: var(--utrecht-card-soft-background-color);
  color: var(--utrecht-card-soft-color);
}

@mixin utrecht-card--bright {
  background-color: var(--utrecht-card-bright-background-color);
  border-color: var(--utrecht-card-bright-border-color);
  border-style: solid;
  border-width: 1px;
  box-sizing: border-box;
  color: var(--utrecht-card-bright-color);

  .utrecht-card__image {
    margin-block: -1px;
    margin-inline: -1px;
  }
}

@mixin utrecht-card__image {
  order: 1;

  img {
    display: block;
  }

  img:not(.utrecht-img) {
    @include utrecht-img;
  }
  img:not(img[height]) {
    @include utrecht-img--photo;
  }

  img:not(img[width]) {
    @include utrecht-img--photo;
  }
}

@mixin utrecht-card--16by9 {
  img {
    aspect-ratio: 16 / 9;
  }
}
@mixin utrecht-card--4by3 {
  img {
    aspect-ratio: 4 / 3;
  }
}
@mixin utrecht-card--1by1 {
  img {
    aspect-ratio: 1 / 1;
  }
}

@mixin utrecht-card__content {
  display: flex;
  flex-direction: column;
  padding-block-end: var(--utrecht-card-content-padding-block-end);
  row-gap: var(--utrecht-card-content-row-gap);
  &:not(:has(img)) {
    padding-block-start: var(--utrecht-card-content-padding-block-start);
  }
}

@mixin utrecht-card__body {
  order: 3;
  padding-inline-end: var(--utrecht-card-body-padding-inline-end);
  padding-inline-start: var(--utrecht-card-body-padding-inline-start);
}

@mixin utrecht-card--hover {
  --utrecht-link-text-decoration: underline;

  scale: var(--utrecht-card-hover-scale, 1);
}

@mixin utrecht-card--focus-visible {
  /* the pseudo-class for `:focus-visible` is implemented via the mixin */
  @include focus-ring.utrecht-focus-visible;
}

@mixin utrecht-card--focus {
  background-color: var(--utrecht-card-focus-background-color, var(--utrecht-card-background-color));
}

@mixin utrecht-card--active {
  scale: var(--utrecht-card-active-scale, 1);
}
