<!--
@license EUPL-1.2
Copyright (c) 2021 Robbert Broersma
-->

import { Meta, Story, Canvas, ArgsTable } from "@storybook/addon-docs";
export const attr = (name, value) => `${name}="${String(value).replace(/"/g, "&quot;")}"`;

export const Template = ({ currentIndex = -1, links = [], next = null, prev = null }) =>
  `<utrecht-pagination ${attr("links", JSON.stringify(links))} ${attr("next", JSON.stringify(next))} ${attr(
    "prev",
    JSON.stringify(prev)
  )} ${attr("current-index", currentIndex)}></utrecht-pagination>`;

<Meta
  title="Web Component/Pagination navigation"
  argTypes={{
    currentIndex: {
      description: "Current index",
      type: "number",
    },
    links: {
      description: "Items",
      type: "array",
    },
    prev: {
      description: "Previous link",
      type: "object",
    },
    next: {
      description: "Next link",
      type: "object",
    },
  }}
  parameters={{
    docs: {
      transformSource: (_src, { args }) => Template(args),
    },
    status: {
      type: "WORK IN PROGRESS",
    },
  }}
/>

# Pagination navigation

<Canvas>
  <Story
    name="Pagination navigation"
    args={{
      currentIndex: 3,
      distanced: true,
      links: [
        {
          href: "./1",
          index: 1,
          title: "Resultaat 1 tot 10",
        },
        {
          href: "./2",
          index: 2,
          title: "Resultaat 11 tot 20",
        },
        {
          href: "./3",
          index: 3,
          title: "Resultaat 21 tot 30",
        },
        {
          href: "./4",
          index: 4,
          title: "Resultaat 31 tot 40",
        },
        {
          href: "./5",
          index: 5,
          title: "Resultaat 41 tot 50",
        },
      ],
      next: {
        href: "./2",
      },
      prev: {
        disabled: true,
      },
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

<ArgsTable story="Pagination navigation" />
