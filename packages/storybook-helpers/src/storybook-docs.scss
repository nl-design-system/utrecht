@import "../../../components/article/css/mixin";
@import "../../../components/heading-1/css/mixin";
@import "../../../components/heading-2/css/mixin";
@import "../../../components/heading-3/css/mixin";
@import "../../../components/heading-4/css/mixin";
@import "../../../components/paragraph/css/mixin";
@import "../../../components/code/css/mixin";
@import "../../../components/code-block/css/mixin";
@import "../../../components/ordered-list/css/mixin";
@import "../../../components/unordered-list/css/mixin";
@import "../../../components/table/css/mixin";
@import "../../../components/link/css/mixin";

/* allow `sbdocs` prefix */
/* stylelint-disable selector-class-pattern */
/* stylelint-disable no-descending-specificity */

/* allow `nldesignsystem` prefix */
/* stylelint-disable custom-property-pattern */

@mixin reset-font-smoothing() {
  -webkit-font-smoothing: initial !important;
  -moz-osx-font-smoothing: initial !important;
}

@mixin reset-dfn() {
  font-style: normal;
}

.docs-story {
  background-color: var(--utrecht-document-background-color);
  color: var(--utrecht-document-color);
}

.utrecht-reduced-motion {
  --utrecht-motion-max-animation-duration: 0;
}

.no-style .docs-story,
.no-style .docs-story * {
  all: revert !important;
}

.sbdocs:not(:has(.sbdocs-preview)) {
  * {
    @include reset-font-smoothing;

    --utrecht-paragraph-margin-block-start: 1em;
    --utrecht-paragraph-margin-block-end: 1em;
  }

  h1,
  h2,
  h3,
  h4,
  p,
  table:not(.docblock-argstable),
  .sbdocs-content ul:not([class]),
  .sbdocs-content ol:not([class]),
  .sbdocs-p,
  .sbdocs-h1,
  .sbdocs-h2,
  .sbdocs-h3,
  .sbdocs-h4,
  .sbdocs-ul,
  .sbdocs-ol,
  .sbdocs-content > :not(.sb-anchor, .sbdocs-preview, :has(.docblock-argstable, .sbdocs-pre)) {
    margin-inline-end: auto !important;
    margin-inline-start: auto !important;
    max-inline-size: 800px; /* approximately 80ch in 18px Fira Sans */
    // border-inline-end: 1px solid silver;
  }

  .sbdocs-content {
    --utrecht-space-around: 1;

    margin-inline-end: auto;

    // @include utrecht-article;
    margin-inline-start: auto;
    max-inline-size: none;
  }

  h1,
  h1.sbdocs-title {
    --utrecht-space-around: 1;

    margin-inline-end: auto;
    margin-inline-start: auto;
    @include utrecht-heading-1;
  }

  h2 {
    --utrecht-space-around: 1;

    @include utrecht-heading-2;
  }

  h3 {
    @include utrecht-heading-3;
  }

  h4 {
    @include utrecht-heading-4;
  }

  p,
  .sbdocs-p {
    --utrecht-space-around: 1;
    @include utrecht-paragraph;
  }

  .sbdocs-content ul:not([class]),
  .sbdocs-ul {
    @include utrecht-unordered-list;

    box-sizing: border-box;
    color: var(--utrecht-document-color);
  }

  .sbdocs-content ul:not([class]) > li,
  .sbdocs-ul > .sbdocs-li {
    @include utrecht-unordered-list__item;

    color: inherit; /* reset */
    font-family: inherit;
    font-size: inherit;
  }

  .sbdocs-content ol:not([class]),
  .sbdocs-ol {
    @include utrecht-ordered-list;

    box-sizing: border-box;
  }

  .sbdocs-content ol:not([class]) > li,
  .sbdocs-ol > .sbdocs-li {
    @include utrecht-ordered-list__item;

    font-family: inherit;
    font-size: inherit;
  }

  .sbdocs-code,
  samp,
  pre {
    font-feature-settings: "cv13", "cv20", "ss01", "ss02", "ss03";
    font-variant-ligatures: initial !important;
  }

  .sbdocs-code {
    // background-color: transparent !important;
    border-inline-end: 0;
    border-inline-start: 0;
    border-width: 0;
  }
  .sbdocs-code,
  samp {
    @include utrecht-code;

    display: inline;
    font-size: inherit;
    margin-inline-end: 0;
    margin-inline-start: 0;
    padding-block-end: 0;
    padding-block-start: 0;
    padding-inline-end: 0;
    padding-inline-start: 0;
    vertical-align: 1%;
  }

  pre:not(.prismjs, .sbdocs-pre) {
    @include utrecht-code-block;
  }

  .prismjs {
    --utrecht-code-background-color: auto;
    --utrecht-code-color: auto;

    font-size: var(--utrecht-code-block-font-size) !important;
    line-height: var(--utrecht-code-block-line-height) !important;
  }

  .sbdocs-pre > * {
    border-radius: 0;
  }

  pre * .token {
    font-family: inherit;
  }

  .sbdocs-content a,
  a.sbdocs-a {
    @include utrecht-link;
    @include utrecht-link--html-a;

    font-family: inherit;
  }

  @mixin block-wide {
    margin-inline-end: auto !important;
    margin-inline-start: auto !important;
    max-inline-size: calc(
      1084px + var(--utrecht-code-block-padding-inline-end) + var(--utrecht-code-block-padding-inline-start)
    );
  }

  .sbdocs-preview,
  div:has(.docblock-argstable:only-child) {
    @include block-wide;
  }

  .sbdocs-pre {
    /* 1084px is approximately 100 characters in Fira Code 18px */

    & > .sbdocs-code:only-child,
    & > div,
    & > sbdocs-code {
      @include utrecht-code-block;

      @include block-wide;

      border: 0;
      box-shadow: none;
      padding-inline-end: var(--utrecht-code-block-padding-inline-end);
      padding-inline-start: var(--utrecht-code-block-padding-inline-start);
    }
    pre.prismjs {
      padding-block-end: 0;
      padding-block-start: 0;
      padding-inline-end: 0;
      padding-inline-start: 0;
    }
  }
  dfn {
    @include reset-dfn;

    /* HTML element we add ourselves in markdown */

    /* styled to be less bold than <strong> */
    font-weight: 500;
  }

  table:not([class]),
  .sbdocs-table {
    @include utrecht-table;
    @include utrecht-table--html-table;

    & > tr,
    & > thead > tr,
    & > tbody > tr,
    & > tfoot > tr {
      background-color: transparent;
      border-top-width: 0;
    }

    & > tr > th,
    & > thead > tr > th,
    & > tbody > tr > th,
    & > tfoot > tr > th {
      border: 0;
    }

    & > tr > td,
    & > thead > tr > td,
    & > tbody > tr > td,
    & > tfoot > tr > td {
      background-color: none;
      border: 0;
    }
  }
}
